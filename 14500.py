import sys
input = sys.stdin.readline

n, m = map(int, input().split())
graph = []
for _ in range(n):
    graph.append(list(map(int, input().split())))

t1 = [1, 1, 1, 1]
t1_h = [[1],[1],[1],[1]]

t2 = [[1, 1], [1, 1]]

t3 = [[1, 0], [1, 0], [1, 1]]
t3_1 = [[0, 0, 1], [1, 1, 1]]
t3_2 = [[1, 1], [0, 1], [0, 1]]
t3_3 = [[1, 1, 1], [1, 0, 0]]

t3_4 = [[0, 1], [0, 1], [1, 1]]
t3_5 = [[1, 1, 1], [0, 0, 1]]
t3_6 = [[1, 1], [1, 0], [1, 0]]
t3_7 = [[1, 0, 0], [1,1, 1]]


t4 = [[1, 0], [1, 1], [0, 1]]
t4_1 = [[0, 1, 1], [1, 1, 0]]

t4_2 = [[0, 1], [1, 1], [1, 0]]
t4_3 = [[1, 1, 0], [0, 1, 1]]


t5 = [[1, 1, 1], [0, 1, 0]]
t5_1 = [[1, 0], [1, 1], [1, 0]]
t5_2 = [[0, 1, 0], [1, 1, 1]]
t5_3 = [[0, 1], [1, 1], [0, 1]]

tets = [t1, t1_h, t2, t3, t3_1 , t3_2, t3_3, t3_4, t3_5,t3_6, t3_7,t4, t4_1,  t4_2, t4_3,  t5,t5_1 , t5_2,t5_3 ]
print(len(tets))
